---
title: æœ¬åœ°ç¯å¢ƒæ„å»º
date: 2026-01-31 23:07:13
writing_date: 2026-01-31 23:07:13
permalink: /categories/practice/technology/website-build/CICD/localSet/
tags: [Hexo,Git,Butterfly]
categories: [å®è·µæ–¹å‘,æŠ€æœ¯ä¹‹é“,ç½‘ç«™æ„å»º,CICD]
---
# ğŸ–¥ï¸ æœ¬åœ°ç¯å¢ƒè¯¦ç»†å‡†å¤‡æ­¥éª¤ï¼ˆWindowsï¼‰

## 1. **ç³»ç»Ÿè¦æ±‚æ£€æŸ¥**
- **Windows 10 æˆ–æ›´é«˜ç‰ˆæœ¬**
- è‡³å°‘ 8GB RAMï¼ˆæ¨è 16GBï¼‰
- è‡³å°‘ 10GB å¯ç”¨ç£ç›˜ç©ºé—´

## 2. **å®‰è£… PowerShell 7**

### æ–¹æ³•ä¸€ï¼šMicrosoft Storeï¼ˆæ¨èï¼‰
1. æ‰“å¼€ Microsoft Store
2. æœç´¢ "PowerShell"
3. é€‰æ‹© "PowerShell 7+"ï¼Œç‚¹å‡»å®‰è£…
4. å®‰è£…åï¼Œåœ¨å¼€å§‹èœå•æ‰¾åˆ° PowerShell 7 å¹¶å¯åŠ¨

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
```powershell
# 1. ä¸‹è½½ PowerShell 7 å®‰è£…åŒ…
# è®¿é—®ï¼šhttps://github.com/PowerShell/PowerShell/releases
# ä¸‹è½½ï¼šPowerShell-7.x.x-win-x64.msi

# 2. å³é”®ç‚¹å‡»å®‰è£…åŒ…ï¼Œé€‰æ‹©"ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"
# 3. æŒ‰ç…§å‘å¯¼å®Œæˆå®‰è£…
```

### éªŒè¯å®‰è£…ï¼š
```powershell
# æ‰“å¼€ PowerShell 7ï¼Œè¿è¡Œï¼š
$PSVersionTable.PSVersion
# åº”è¯¥æ˜¾ç¤º 7.x.x ç‰ˆæœ¬
```

## 3. **å®‰è£… Visual Studio Code**

### æ­¥éª¤ï¼š
1. **ä¸‹è½½ VSCode**
   - è®¿é—®ï¼šhttps://code.visualstudio.com/
   - ç‚¹å‡»ä¸‹è½½ Windows ç‰ˆæœ¬

2. **å®‰è£… VSCode**
   ```powershell
   # åŒå‡»å®‰è£…åŒ… VSCodeUserSetup-x64-x.x.x.exe
   # å®‰è£…é€‰é¡¹ï¼š
   # â˜‘ å°†"é€šè¿‡ Code æ‰“å¼€"æ“ä½œæ·»åŠ åˆ° Windows èµ„æºç®¡ç†å™¨æ–‡ä»¶ä¸Šä¸‹æ–‡èœå•
   # â˜‘ å°†"é€šè¿‡ Code æ‰“å¼€"æ“ä½œæ·»åŠ åˆ° Windows èµ„æºç®¡ç†å™¨ç›®å½•ä¸Šä¸‹æ–‡èœå•
   # â˜‘ å°† Code æ³¨å†Œä¸ºå—æ”¯æŒçš„æ–‡ä»¶ç±»å‹çš„ç¼–è¾‘å™¨
   # â˜‘ æ·»åŠ åˆ° PATHï¼ˆé‡å¯åç”Ÿæ•ˆï¼‰
   ```

3. **å®‰è£…å¿…è¦æ‰©å±•**
   æ‰“å¼€ VSCodeï¼ŒæŒ‰ `Ctrl+Shift+X`ï¼Œæœç´¢å¹¶å®‰è£…ï¼š
   - **Chinese (Simplified) Language Pack**ï¼ˆä¸­æ–‡è¯­è¨€åŒ…ï¼‰
   - **GitHub Theme**ï¼ˆå¯é€‰ä¸»é¢˜ï¼‰
   - **GitLens**ï¼ˆGit å¢å¼ºï¼‰
   - **Hexo Utils**ï¼ˆHexo å·¥å…·ï¼‰
   - **Markdown All in One**ï¼ˆMarkdown å¢å¼ºï¼‰
   - **Prettier**ï¼ˆä»£ç æ ¼å¼åŒ–ï¼‰

## 4. **å®‰è£… Git**

### æ­¥éª¤ï¼š
1. **ä¸‹è½½ Git**
   ```powershell
   # è®¿é—®ï¼šhttps://git-scm.com/download/win
   # ä¸‹è½½ï¼šGit-x.x.x-64-bit.exe
   ```

2. **å®‰è£… Gitï¼ˆè¯¦ç»†é…ç½®ï¼‰**
   ```
   å®‰è£…é€‰é¡¹ï¼š
   1. é€‰æ‹©ç»„ä»¶ï¼š
     â˜‘ Git Bash Here
     â˜‘ Git GUI Here
     â˜‘ Git LFS (Large File Support)
     â˜‘ Associate .git* configuration files with the default text editor
     â˜‘ Associate .sh files to be run with Bash

   2. é€‰æ‹©é»˜è®¤ç¼–è¾‘å™¨ï¼š
     â–¸ Use Visual Studio Code as Git's default editor

   3. è°ƒæ•´ PATH ç¯å¢ƒï¼š
     â–¸ Git from the command line and also from 3rd-party software

   4. é€‰æ‹© HTTPS ä¼ è¾“åç«¯ï¼š
     â–¸ Use the OpenSSL library

   5. é…ç½®è¡Œå°¾ç¬¦å·è½¬æ¢ï¼š
     â–¸ Checkout Windows-style, commit Unix-style line endings

   6. é…ç½®ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼š
     â–¸ Use Windows' default console window

   7. å…¶ä»–é€‰é¡¹ï¼š
     â˜‘ Enable file system caching
     â˜‘ Enable symbolic links
   ```

3. **é…ç½® Git ç”¨æˆ·ä¿¡æ¯**
   ```powershell
   # æ‰“å¼€ PowerShell 7
   git config --global user.name "ä½ çš„GitHubç”¨æˆ·å"
   git config --global user.email "ä½ çš„GitHubé‚®ç®±"
   git config --global credential.helper store  # ä¿å­˜å‡­è¯
   ```

4. **éªŒè¯å®‰è£…**
   ```powershell
   git --version
   # åº”è¯¥æ˜¾ç¤ºï¼šgit version 2.x.x.windows.1
   ```

## 5. **å®‰è£… Node.js v24.13.0**

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ nvm-windowsï¼ˆæ¨èï¼‰
1. **å®‰è£… nvm-windows**
   ```powershell
   # 1. å¸è½½ç°æœ‰ Node.jsï¼ˆå¦‚æœå·²å®‰è£…ï¼‰
   # 2. ä¸‹è½½ nvm-setup.exe
   # è®¿é—®ï¼šhttps://github.com/coreybutler/nvm-windows/releases
   # ä¸‹è½½ï¼šnvm-setup.exe

   # 3. ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå®‰è£…ï¼Œä½¿ç”¨é»˜è®¤è®¾ç½®
   ```

2. **å®‰è£… Node.js 24.13.0**
   ```powershell
   # æ‰“å¼€ PowerShell 7ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
   nvm install 24.13.0
   nvm use 24.13.0
   nvm on  # å¯ç”¨ Node.js ç‰ˆæœ¬ç®¡ç†
   ```

3. **éªŒè¯å®‰è£…**
   ```powershell
   node --version  # åº”è¯¥æ˜¾ç¤ºï¼šv24.13.0
   npm --version   # åº”è¯¥æ˜¾ç¤ºï¼š10.x.x
   ```

### æ–¹æ³•äºŒï¼šç›´æ¥å®‰è£…
1. **ä¸‹è½½å®‰è£…åŒ…**
   ```powershell
   # è®¿é—®ï¼šhttps://nodejs.org/download/release/v24.13.0/
   # ä¸‹è½½ï¼šnode-v24.13.0-x64.msi
   ```

2. **å®‰è£… Node.js**
   ```
   å®‰è£…é€‰é¡¹ï¼š
   1. æ¥å—è®¸å¯åè®®
   2. é€‰æ‹©å®‰è£…è·¯å¾„ï¼ˆé»˜è®¤ï¼šC:\Program Files\nodejs\ï¼‰
   3. è‡ªå®šä¹‰å®‰è£…ï¼Œç¡®ä¿å‹¾é€‰ï¼š
     â˜‘ npm package manager
     â˜‘ Add to PATH
     â˜‘ Automatically install the necessary tools...
   ```

## 6. **é…ç½® npm å’Œé•œåƒæº**

```powershell
# æŸ¥çœ‹å½“å‰é…ç½®
npm config list

# è®¾ç½®æ·˜å®é•œåƒï¼ˆå›½å†…æ¨èï¼‰
npm config set registry https://registry.npmmirror.com

# è®¾ç½® npm å…¨å±€å®‰è£…è·¯å¾„
npm config set prefix "C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Roaming\npm"

# è®¾ç½®ç¼“å­˜è·¯å¾„
npm config set cache "C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Roaming\npm-cache"

# éªŒè¯é…ç½®
npm config get registry
```

## 7. **å®‰è£… Hexo CLI 8.1.1**

```powershell
# 1. å®‰è£… Hexo CLIï¼ˆå…¨å±€å®‰è£…ï¼‰
npm install -g hexo-cli@8.1.1

# 2. éªŒè¯å®‰è£…
hexo --version
# åº”è¯¥æ˜¾ç¤ºï¼š
# hexo: 8.1.1
# hexo-cli: 5.0.0
# å…¶ä»–ä¾èµ–ç‰ˆæœ¬...

# 3. åˆ›å»ºåšå®¢æ–‡ä»¶å¤¹ï¼ˆå¯é€‰ä½ç½®ï¼Œæ¯”å¦‚åœ¨æ–‡æ¡£æ–‡ä»¶å¤¹ï¼‰
cd ~/Documents
hexo init myblog
cd myblog

# 4. å®‰è£… Hexo ä¾èµ–
npm install

# 5. éªŒè¯ Hexo è¿è¡Œ
hexo clean
hexo generate
hexo server
# æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:4000
```

## 8. **å®‰è£…å’Œé…ç½® Butterfly ä¸»é¢˜**

```powershell
# è¿›å…¥ Hexo åšå®¢ç›®å½•
cd myblog

# 1. å®‰è£… Butterfly ä¸»é¢˜
npm install hexo-theme-butterfly@latest

# 2. ä¿®æ”¹ä¸»é¢˜é…ç½®
# å¤åˆ¶é»˜è®¤é…ç½®æ–‡ä»¶
cp node_modules/hexo-theme-butterfly/_config.yml _config.butterfly.yml

# 3. ä¿®æ”¹æ ¹ç›®å½•çš„ _config.yml
# ä½¿ç”¨ VSCode ç¼–è¾‘ï¼š
code _config.yml
```
```yaml
# _config.yml ä¸­ä¿®æ”¹ï¼š
theme: butterfly

# å…¶ä»–å»ºè®®é…ç½®ï¼š
permalink: :year/:month/:day/:title/
permalink_defaults:
pretty_urls:
  trailing_index: false
  trailing_html: false
```

## 9. **åˆ›å»º GitHub ä»“åº“**

1. **ç™»å½• GitHub**ï¼šhttps://github.com
2. **åˆ›å»ºæ–°ä»“åº“**
   - ç‚¹å‡»å³ä¸Šè§’ "+" â†’ "New repository"
   - ä»“åº“åï¼š`your-blog-name`
   - æè¿°ï¼šå¯é€‰
   - é€‰æ‹©ï¼šPublicï¼ˆå…¬å¼€ï¼‰
   - å‹¾é€‰ï¼šAdd a README file
   - ç‚¹å‡» "Create repository"

3. **æœ¬åœ°é…ç½®è¿œç¨‹ä»“åº“**
```powershell
# è¿›å…¥åšå®¢ç›®å½•
cd myblog

# åˆå§‹åŒ– Git ä»“åº“
git init

# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git

# åˆ›å»º .gitignore æ–‡ä»¶
code .gitignore
```
```gitignore
# .gitignore å†…å®¹ï¼š
.DS_Store
Thumbs.db
db.json
*.log
node_modules/
public/
.deploy*/
_multiconfig.yml
```

## 10. **åˆ›å»º Hexo éƒ¨ç½²é…ç½®**

```powershell
# 1. å®‰è£… hexo-deployer-git
npm install hexo-deployer-git --save

# 2. é…ç½®éƒ¨ç½²è®¾ç½®
code _config.yml
```
```yaml
# åœ¨ _config.yml æœ«å°¾æ·»åŠ ï¼š
deploy:
  type: git
  repo: https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git
  branch: main
  message: "ç«™ç‚¹æ›´æ–°: {{ now('YYYY-MM-DD HH:mm:ss') }}"
```

## 11. **åˆ›å»ºç¬¬ä¸€ä¸ªåšå®¢æ–‡ç« **

```powershell
# åˆ›å»ºæ–°æ–‡ç« 
hexo new "æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢"

# ç¼–è¾‘æ–‡ç« 
code source/_posts/æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢.md
```

```markdown
# ç¤ºä¾‹æ–‡ç« å†…å®¹
---
title: æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢
date: 2024-01-15 14:00:00
tags:
  - åšå®¢
  - Hexo
categories:
  - æ•™ç¨‹
---
## æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼

è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œä½¿ç”¨ Hexo å’Œ Butterfly ä¸»é¢˜æ„å»ºã€‚

<!-- more -->

## åŠŸèƒ½ç‰¹ç‚¹
- ğŸš€ å¿«é€Ÿç”Ÿæˆé™æ€é¡µé¢
- ğŸ¨ ç¾è§‚çš„ Butterfly ä¸»é¢˜
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸ” SEO å‹å¥½

## åç»­è®¡åˆ’
1. æ·»åŠ è¯„è®ºç³»ç»Ÿ
2. é…ç½®ç»Ÿè®¡å·¥å…·
3. ä¼˜åŒ–åŠ è½½é€Ÿåº¦
```

## 12. **æœ¬åœ°æµ‹è¯•**

```powershell
# 1. ç”Ÿæˆé™æ€æ–‡ä»¶
hexo clean && hexo generate

# 2. å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
hexo server

# 3. åœ¨æµè§ˆå™¨è®¿é—®ï¼š
# http://localhost:4000

# 4. æ£€æŸ¥ä¸»é¢˜æ˜¯å¦æ­£ç¡®åŠ è½½
```

## 13. **éƒ¨ç½²åˆ° GitHub**

```powershell
# 1. æäº¤æ‰€æœ‰æ›´æ”¹
git add .
git commit -m "åˆå§‹åŒ–Hexoåšå®¢"

# 2. æ¨é€åˆ° GitHub
git push -u origin main

# 3. ä½¿ç”¨ Hexo éƒ¨ç½²
hexo deploy

# 4. è®¿é—® GitHub Pagesï¼ˆå¦‚æœå¯ç”¨ï¼‰
# https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å
```

## 14. **VSCode é…ç½®ä¼˜åŒ–**

åˆ›å»º `.vscode/settings.json`ï¼š
```json
{
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "files.associations": {
        "*.yml": "yaml"
    },
    "editor.wordWrap": "on",
    "editor.fontSize": 14,
    "workbench.colorTheme": "GitHub Dark",
    "markdown.preview.fontSize": 14,
    "terminal.integrated.fontSize": 13,
    "git.autofetch": true,
    "git.confirmSync": false
}
```

## 15. **åˆ›å»ºå¿«æ·è„šæœ¬**

åœ¨åšå®¢æ ¹ç›®å½•åˆ›å»º `deploy.ps1`ï¼š
```powershell
# deploy.ps1
Write-Host "å¼€å§‹éƒ¨ç½²..." -ForegroundColor Green
hexo clean
hexo generate
hexo deploy
git add .
git commit -m "æ›´æ–°: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')"
git push origin main
Write-Host "éƒ¨ç½²å®Œæˆ!" -ForegroundColor Green
```

è®¾ç½®æ‰§è¡Œæƒé™ï¼š
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

## 16. **éªŒè¯å®Œæ•´ç¯å¢ƒ**

è¿è¡ŒéªŒè¯è„šæœ¬ï¼š
```powershell
# åˆ›å»º verify.ps1
@"
éªŒè¯ç¯å¢ƒé…ç½®ï¼š
1. PowerShell ç‰ˆæœ¬: $($PSVersionTable.PSVersion)
2. Git ç‰ˆæœ¬: $(git --version 2>$null)
3. Node.js ç‰ˆæœ¬: $(node --version)
4. npm ç‰ˆæœ¬: $(npm --version)
5. Hexo ç‰ˆæœ¬: $(hexo --version | Select-Object -First 1)
6. VSCode ç‰ˆæœ¬: $(code --version 2>$null | Select-Object -First 1)
"@ | Write-Host
```

## ğŸš€ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜è§£å†³ï¼š

1. **æƒé™é—®é¢˜**
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
# ä¿®å¤ npm æƒé™
npm cache clean --force
npm install -g npm@latest
```

2. **ç«¯å£å ç”¨**
```powershell
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :4000
# ç»ˆæ­¢è¿›ç¨‹
taskkill /PID è¿›ç¨‹å· /F
```

3. **Hexo å‘½ä»¤æ‰¾ä¸åˆ°**
```powershell
# é‡æ–°å®‰è£… hexo-cli
npm uninstall -g hexo-cli
npm install -g hexo-cli@8.1.1
# æ·»åŠ åˆ° PATH
[Environment]::SetEnvironmentVariable("Path", $env:Path + ";C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Roaming\npm", "User")
```

4. **Git æäº¤å¤±è´¥**
```powershell
# é‡ç½® Git å‡­è¯
git config --global --unset credential.helper
git config --global credential.helper manager
```